{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Shreshth Mishra\\\\Downloads\\\\G5_RJS_GradedAssignment3-main\\\\G5_RJS_GradedAssignment3-main\\\\Movie on Tip\\\\client\\\\src\\\\component\\\\MovieCard.tsx\",\n  _s = $RefreshSig$();\nimport { useNavigate } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport { addMovieToFavourites, removeMovieFromFavourites, fetchFavouriteMovies } from \"../service/FetchData\";\nimport \"../styles/MovieCard.css\";\nimport { ImHeart, ImCross } from \"react-icons/im\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst MovieCard = _ref => {\n  _s();\n  let {\n    movie,\n    tabName,\n    fetchMovies\n  } = _ref;\n  const navigate = useNavigate();\n  const addToFav = async movie => {\n    let favorites = await fetchFavouriteMovies();\n    let movieAlreadyexists = favorites.some(favoriteMovie => favoriteMovie.title === movie.title);\n    if (movieAlreadyexists) {\n      toast.error(`Error! ${movie.title} is already added to favourites!`, {\n        position: toast.POSITION.TOP_RIGHT,\n        autoClose: 2000\n      });\n      return;\n    }\n    const response = await addMovieToFavourites(movie);\n    if (response === 201) {\n      toast.success(`${movie.title} added to favourites successfully!`, {\n        position: toast.POSITION.TOP_RIGHT,\n        autoClose: 2000\n      });\n    } else {\n      console.log(response);\n    }\n  };\n  const removeFromFav = async movie => {\n    const movieDetails = await fetchFavouriteMovies(movie.title);\n    const response = await removeMovieFromFavourites(movieDetails[0].id);\n    if (response === 200) {\n      toast.success(`${movie.title} removed from favourites!`, {\n        position: toast.POSITION.TOP_RIGHT,\n        autoClose: 2000\n      });\n      /*The function received as prop from parent component is  \r\n      being used to re-render the page.*/\n      fetchMovies();\n    }\n  };\n  const imageClick = async movie => {\n    let url = `/${movie.title}`;\n    navigate(url, {\n      state: {\n        tab: tabName,\n        id: movie.id\n      }\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"movie-card\",\n    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n      src: movie.posterurl,\n      alt: movie.title,\n      className: \"movie-card__image\",\n      onClick: () => imageClick(movie)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"movie-card__details\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"movie-card__title\",\n        children: movie.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }, this), tabName == \"favourite\" ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"Favourites\",\n          onClick: () => removeFromFav(movie),\n          children: [\"Remove from Favourites \", /*#__PURE__*/_jsxDEV(ImCross, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 52\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 25\n        }, this)\n      }, void 0, false) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"Favourites\",\n          onClick: () => addToFav(movie),\n          children: [\"Add to Favourites \", /*#__PURE__*/_jsxDEV(ImHeart, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 47\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 25\n        }, this)\n      }, void 0, false)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }, this)]\n  }, movie.id, true, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 9\n  }, this);\n};\n_s(MovieCard, \"CzcTeTziyjMsSrAVmHuCCb6+Bfg=\", false, function () {\n  return [useNavigate];\n});\n_c = MovieCard;\nexport default MovieCard;\nvar _c;\n$RefreshReg$(_c, \"MovieCard\");","map":{"version":3,"names":["useNavigate","toast","addMovieToFavourites","removeMovieFromFavourites","fetchFavouriteMovies","ImHeart","ImCross","jsxDEV","_jsxDEV","Fragment","_Fragment","MovieCard","_ref","_s","movie","tabName","fetchMovies","navigate","addToFav","favorites","movieAlreadyexists","some","favoriteMovie","title","error","position","POSITION","TOP_RIGHT","autoClose","response","success","console","log","removeFromFav","movieDetails","id","imageClick","url","state","tab","className","children","src","posterurl","alt","onClick","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/Shreshth Mishra/Downloads/G5_RJS_GradedAssignment3-main/G5_RJS_GradedAssignment3-main/Movie on Tip/client/src/component/MovieCard.tsx"],"sourcesContent":["import { useNavigate } from \"react-router-dom\"\r\nimport { toast } from \"react-toastify\"\r\nimport \"react-toastify/dist/ReactToastify.css\"\r\nimport {\r\n    addMovieToFavourites,\r\n    removeMovieFromFavourites,\r\n    fetchFavouriteMovies,\r\n} from \"../service/FetchData\"\r\nimport \"../styles/MovieCard.css\"\r\nimport { ImHeart, ImCross } from \"react-icons/im\"\r\nimport IMovieList from \"../model/IMovieList\"\r\n\r\ntype MovieCardProps = {\r\n    movie: IMovieList\r\n    tabName: string | undefined\r\n    fetchMovies(): void\r\n}\r\n\r\nconst MovieCard = ({ movie, tabName, fetchMovies }: MovieCardProps) => {\r\n    const navigate = useNavigate()\r\n\r\n    const addToFav = async (movie: IMovieList) => {\r\n        let favorites = await fetchFavouriteMovies()\r\n\r\n        let movieAlreadyexists = favorites.some(\r\n            (favoriteMovie: IMovieList) => favoriteMovie.title === movie.title\r\n        )\r\n\r\n        if (movieAlreadyexists) {\r\n            toast.error(`Error! ${movie.title} is already added to favourites!`, {\r\n                position: toast.POSITION.TOP_RIGHT,\r\n                autoClose: 2000,\r\n            })\r\n            return\r\n        }\r\n\r\n        const response = await addMovieToFavourites(movie)\r\n\r\n        if (response === 201) {\r\n            toast.success(`${movie.title} added to favourites successfully!`, {\r\n                position: toast.POSITION.TOP_RIGHT,\r\n                autoClose: 2000,\r\n            })\r\n        } else {\r\n            console.log(response)\r\n        }\r\n    }\r\n\r\n    const removeFromFav = async (movie: IMovieList) => {\r\n        const movieDetails = await fetchFavouriteMovies(movie.title)\r\n        const response = await removeMovieFromFavourites(movieDetails[0].id)\r\n\r\n        if (response === 200) {\r\n            toast.success(`${movie.title} removed from favourites!`, {\r\n                position: toast.POSITION.TOP_RIGHT,\r\n                autoClose: 2000,\r\n            })\r\n            /*The function received as prop from parent component is  \r\n            being used to re-render the page.*/\r\n            fetchMovies()\r\n        }\r\n    }\r\n\r\n    const imageClick = async (movie: IMovieList) => {\r\n        let url = `/${movie.title}`\r\n        navigate(url, { state: { tab: tabName, id: movie.id } })\r\n    }\r\n\r\n    return (\r\n        <div className=\"movie-card\" key={movie.id}>\r\n            <img\r\n                src={movie.posterurl}\r\n                alt={movie.title}\r\n                className=\"movie-card__image\"\r\n                onClick={() => imageClick(movie)}\r\n            />\r\n            <div className=\"movie-card__details\">\r\n                <h2 className=\"movie-card__title\">{movie.title}</h2>\r\n                {tabName == \"favourite\" ? (\r\n                    <>\r\n                        <button className=\"Favourites\" onClick={() => removeFromFav(movie)}>\r\n                            Remove from Favourites <ImCross />\r\n                        </button>\r\n                    </>\r\n                ) : (\r\n                    <>\r\n                        <button className=\"Favourites\" onClick={() => addToFav(movie)}>\r\n                            Add to Favourites <ImHeart />\r\n                        </button>\r\n                    </>\r\n                )}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default MovieCard"],"mappings":";;AAAA,SAASA,WAAW,QAAQ,kBAAkB;AAC9C,SAASC,KAAK,QAAQ,gBAAgB;AACtC,OAAO,uCAAuC;AAC9C,SACIC,oBAAoB,EACpBC,yBAAyB,EACzBC,oBAAoB,QACjB,sBAAsB;AAC7B,OAAO,yBAAyB;AAChC,SAASC,OAAO,EAAEC,OAAO,QAAQ,gBAAgB;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AASjD,MAAMC,SAAS,GAAGC,IAAA,IAAqD;EAAAC,EAAA;EAAA,IAApD;IAAEC,KAAK;IAAEC,OAAO;IAAEC;EAA4B,CAAC,GAAAJ,IAAA;EAC9D,MAAMK,QAAQ,GAAGjB,WAAW,CAAC,CAAC;EAE9B,MAAMkB,QAAQ,GAAG,MAAOJ,KAAiB,IAAK;IAC1C,IAAIK,SAAS,GAAG,MAAMf,oBAAoB,CAAC,CAAC;IAE5C,IAAIgB,kBAAkB,GAAGD,SAAS,CAACE,IAAI,CAClCC,aAAyB,IAAKA,aAAa,CAACC,KAAK,KAAKT,KAAK,CAACS,KACjE,CAAC;IAED,IAAIH,kBAAkB,EAAE;MACpBnB,KAAK,CAACuB,KAAK,CAAE,UAASV,KAAK,CAACS,KAAM,kCAAiC,EAAE;QACjEE,QAAQ,EAAExB,KAAK,CAACyB,QAAQ,CAACC,SAAS;QAClCC,SAAS,EAAE;MACf,CAAC,CAAC;MACF;IACJ;IAEA,MAAMC,QAAQ,GAAG,MAAM3B,oBAAoB,CAACY,KAAK,CAAC;IAElD,IAAIe,QAAQ,KAAK,GAAG,EAAE;MAClB5B,KAAK,CAAC6B,OAAO,CAAE,GAAEhB,KAAK,CAACS,KAAM,oCAAmC,EAAE;QAC9DE,QAAQ,EAAExB,KAAK,CAACyB,QAAQ,CAACC,SAAS;QAClCC,SAAS,EAAE;MACf,CAAC,CAAC;IACN,CAAC,MAAM;MACHG,OAAO,CAACC,GAAG,CAACH,QAAQ,CAAC;IACzB;EACJ,CAAC;EAED,MAAMI,aAAa,GAAG,MAAOnB,KAAiB,IAAK;IAC/C,MAAMoB,YAAY,GAAG,MAAM9B,oBAAoB,CAACU,KAAK,CAACS,KAAK,CAAC;IAC5D,MAAMM,QAAQ,GAAG,MAAM1B,yBAAyB,CAAC+B,YAAY,CAAC,CAAC,CAAC,CAACC,EAAE,CAAC;IAEpE,IAAIN,QAAQ,KAAK,GAAG,EAAE;MAClB5B,KAAK,CAAC6B,OAAO,CAAE,GAAEhB,KAAK,CAACS,KAAM,2BAA0B,EAAE;QACrDE,QAAQ,EAAExB,KAAK,CAACyB,QAAQ,CAACC,SAAS;QAClCC,SAAS,EAAE;MACf,CAAC,CAAC;MACF;AACZ;MACYZ,WAAW,CAAC,CAAC;IACjB;EACJ,CAAC;EAED,MAAMoB,UAAU,GAAG,MAAOtB,KAAiB,IAAK;IAC5C,IAAIuB,GAAG,GAAI,IAAGvB,KAAK,CAACS,KAAM,EAAC;IAC3BN,QAAQ,CAACoB,GAAG,EAAE;MAAEC,KAAK,EAAE;QAAEC,GAAG,EAAExB,OAAO;QAAEoB,EAAE,EAAErB,KAAK,CAACqB;MAAG;IAAE,CAAC,CAAC;EAC5D,CAAC;EAED,oBACI3B,OAAA;IAAKgC,SAAS,EAAC,YAAY;IAAAC,QAAA,gBACvBjC,OAAA;MACIkC,GAAG,EAAE5B,KAAK,CAAC6B,SAAU;MACrBC,GAAG,EAAE9B,KAAK,CAACS,KAAM;MACjBiB,SAAS,EAAC,mBAAmB;MAC7BK,OAAO,EAAEA,CAAA,KAAMT,UAAU,CAACtB,KAAK;IAAE;MAAAgC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACpC,CAAC,eACFzC,OAAA;MAAKgC,SAAS,EAAC,qBAAqB;MAAAC,QAAA,gBAChCjC,OAAA;QAAIgC,SAAS,EAAC,mBAAmB;QAAAC,QAAA,EAAE3B,KAAK,CAACS;MAAK;QAAAuB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,EACnDlC,OAAO,IAAI,WAAW,gBACnBP,OAAA,CAAAE,SAAA;QAAA+B,QAAA,eACIjC,OAAA;UAAQgC,SAAS,EAAC,YAAY;UAACK,OAAO,EAAEA,CAAA,KAAMZ,aAAa,CAACnB,KAAK,CAAE;UAAA2B,QAAA,GAAC,yBACzC,eAAAjC,OAAA,CAACF,OAAO;YAAAwC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC9B;MAAC,gBACX,CAAC,gBAEHzC,OAAA,CAAAE,SAAA;QAAA+B,QAAA,eACIjC,OAAA;UAAQgC,SAAS,EAAC,YAAY;UAACK,OAAO,EAAEA,CAAA,KAAM3B,QAAQ,CAACJ,KAAK,CAAE;UAAA2B,QAAA,GAAC,oBACzC,eAAAjC,OAAA,CAACH,OAAO;YAAAyC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACzB;MAAC,gBACX,CACL;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACA,CAAC;EAAA,GAtBuBnC,KAAK,CAACqB,EAAE;IAAAW,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAuBpC,CAAC;AAEd,CAAC;AAAApC,EAAA,CA5EKF,SAAS;EAAA,QACMX,WAAW;AAAA;AAAAkD,EAAA,GAD1BvC,SAAS;AA8Ef,eAAeA,SAAS;AAAA,IAAAuC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}